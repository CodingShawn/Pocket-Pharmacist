(this["webpackJsonppocket-pharmacist"]=this["webpackJsonppocket-pharmacist"]||[]).push([[0],{397:function(e,t,r){},658:function(e,t,r){},661:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(12),s=r.n(c),o=(r(397),r(73)),i=r(234),u=r(377),l=r.n(u);var f={seperateComponents:function(e){return e.replace(/,/g,"\n")},parseString:function(e){return function(e){return e.replace(/&&/g,", ")}(function(e){return e.substring(1,e.length-1)}(e)).toUpperCase()}},d=r(13);var p=function(e){var t=e.results,r=e.searchTerm,n=t.map((function(e,t){return Object(i.a)(Object(i.a)({},e),{},{id:t})})).map((function(e){return Object.keys(e).forEach((function(t){"string"===typeof e[t]&&"forensic_classification"!==t&&(e[t]=f.parseString(e[t]),"active_ingredients"!==t&&"strength"!==t||(e[t]=f.seperateComponents(e[t])))})),e}));return Object(d.jsx)(l.a,{title:'Search Results for "'.concat(r,'"'),data:n,columns:[{name:"product_name",label:"Product Name"},{name:"active_ingredients",label:"Active Ingredients"},{name:"strength",label:"Strength"},{name:"dosage_form",label:"Dosage Form"},{name:"forensic_classification",label:"Forensic Classification",options:{display:!1}},{name:"manufacturer",label:"Manufacturer",options:{display:!1}},{name:"country_of_manufacturer",label:"Country of Manufacturer",options:{display:!1}}],options:{resizableColumns:!0,filter:!1,rowsPerPage:20,rowsPerPageOptions:[20,50],responsive:"standard",selectableRows:"none",textLabels:{body:{noMatch:"No records found. Please check if you have spelt the name correctly."}}}})},b=r(74),h=r.n(b),j=r(132),m=r(163),g=r(381),O=r.n(g),v="https://data.gov.sg/api/action/datastore_search?resource_id=3ee20559-372d-42f0-bde9-245e21f7f39b",x={};function y(e,t){return S.apply(this,arguments)}function S(){return(S=Object(j.a)(h.a.mark((function e(t,r){var n,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{q:Object(m.a)({},t,r)}},e.next=3,O.a.get(v,n);case 3:return a=e.sent,c=a.data.result.records,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}x.getDrug=function(){var e=Object(j.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("product_name",t);case 2:return r=e.sent,e.next=5,y("active_ingredients",t);case 5:return n=e.sent,a=n.concat(r),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var w=x,_=r(350),D=r(231),P=r.n(D),k=r(226),C=r(382),M=r.n(C);var R=function(){var e=Object(n.useState)(0),t=Object(o.a)(e,2),r=t[0],a=t[1];function c(){a(r<315?r+45:0)}function s(){setTimeout(c,250)}function i(){clearTimeout(s)}return Object(n.useEffect)((function(){return s(),i})),Object(n.useEffect)((function(){!function(){var e=document.getElementById("rotating");e&&(e.style.transform="rotate(".concat(r,"deg)"))}()}),[r]),Object(d.jsx)(M.a,{id:"rotating",style:{color:"rgba(0,0,0,0.54)",padding:"12px"}})};var T=function(e){var t=e.setResults,r=e.setSearchTerm,a=Object(n.useState)(!1),c=Object(o.a)(a,2),s=c[0],i=c[1],u=Object(n.useState)(""),l=Object(o.a)(u,2),f=l[0],p=l[1];function b(){return(b=Object(j.a)(h.a.mark((function e(){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getDrug(f);case 2:r=e.sent,t(r),i(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.jsx)("section",{children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(!0),function(){b.apply(this,arguments)}(),r(f)},id:"search-form",children:[!s&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(_.a,{label:"Drug / Product Name",type:"search",onChange:function(e){var t=e.target;return p(t.value)},value:f,required:!0}),Object(d.jsx)(k.a,{type:"submit",children:Object(d.jsx)(P.a,{})})]}),s&&Object(d.jsx)(R,{})]})})};var F=function(){return Object(d.jsx)("header",{children:Object(d.jsx)("h1",{id:"header",children:"Pocket Pharmacist"})})};var A=function(){var e=new Date,t="".concat(e.getDate()," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ").concat(e.getFullYear()),r="* Contains information from Listing of Registered Therapeutic Products accessed on ".concat(t," from Health Sciences Authority which is made available under the terms of the");return Object(d.jsxs)("footer",{id:"footer",children:[Object(d.jsxs)("div",{children:[r," ",Object(d.jsx)("a",{href:"https://data.gov.sg/open-data-licence",children:"Singapore Open Data Licence version 1.0"})]}),Object(d.jsxs)("div",{children:["** Data retrieved may be outdated. Refer to"," ",Object(d.jsx)("a",{href:"http://eservice.hsa.gov.sg/prism/common/enquirepublic/SearchDRBProduct.do?action=load",children:"HSA website"})," ","for latest list of health products"]})]})};r(658);var E=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(""),s=Object(o.a)(c,2),i=s[0],u=s[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(F,{}),Object(d.jsx)(T,{setResults:a,setSearchTerm:u}),r&&Object(d.jsx)(p,{results:r,searchTerm:i}),Object(d.jsx)(A,{})]})};s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(E,{})}),document.getElementById("root"))}},[[661,1,2]]]);
//# sourceMappingURL=main.fddbccad.chunk.js.map